define(["require","exports","tslib","jquery","modules/core/i18n"],function(r,t,e,i){"use strict";return i=e.__importDefault(i),(function(){function r(r){if(this.constructor._show_hi_res()){var t=r.attr("data-hi-res-no-resize");this.constructor.set_src(r,r.attr("data-hi-res"),t),this.constructor.set_bg(r,r.attr("data-hi-res-background"),t)}}return r.set_src=function(r,t,e){if(this._show_hi_res())return t&&t!==r.attr("src")?this._replace(r,t,!e,this._replace_img):void 0},r.set_bg=function(r,t,e){if(this._show_hi_res())return this._replace(r,t,!e,this._replace_background)},r._show_hi_res=function(){return"devicePixelRatio"in window&&window.devicePixelRatio>1},r._replace=function(r,t,e,n){if(t){var s=new Image;return s.src=t,i.default(s).on("load",function(){return n(r,t,e,s.width,s.height)})}},r._replace_img=function(r,t,e,i,n){if(r.attr("src",t),e)return r.width(i/2),r.height(n/2)},r._replace_background=function(r,t,e,i,n){var s="url('%(src)s')".format({src:t});if(r.css("backgroundImage",s),e)return r.css("backgroundSize",i/2+"px "+n/2+"px")},r})()});
//# sourceMappingURL=hi_res.min.js-vflO7MhrQ.map
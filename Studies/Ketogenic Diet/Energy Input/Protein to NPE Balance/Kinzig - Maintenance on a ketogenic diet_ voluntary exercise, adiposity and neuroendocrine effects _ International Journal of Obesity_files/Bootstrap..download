(function ensightenInit(){var ensightenOptions = {client: "npg", clientId: 322, publishPath: "prod", isPublic:1, serverComponentLocation: "nexus.ensighten.com/npg/prod/serverComponent.php", staticJavascriptPath: "nexus.ensighten.com/npg/prod/code/", ns: 'Bootstrapper', nexus:"nexus.ensighten.com", scUseCacheBuster: "true", enableTagAuditBeacon : "true", enablePagePerfBeacon : "true", registryNs : "ensBootstraps", generatedOn : "Fri Jun 01 08:17:47 GMT 2018", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
if(!window[ensightenOptions.registryNs])window[ensightenOptions.registryNs]={};
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(options){var _private={},_public={};_public.ensightenOptions=ensightenOptions;_public.scDataObj={};_private.version="1.26.0";_private.nexus=options.nexus||"nexus.ensighten.com";_private.rand=-1;_private.currSec=(new Date).getSeconds();_private.options={interval:options.interval||100,erLoc:options.errorLocation||_private.nexus+"/error/e.gif",scLoc:options.serverComponentLocation||_private.nexus+"/"+options.client+
"/serverComponent.php",sjPath:options.staticJavascriptPath||_private.nexus+"/"+options.client+"/code/",alLoc:options.alertLocation||_private.nexus+"/alerts/a.gif",publishPath:options.publishPath,isPublic:options.isPublic,client:options.client,clientId:options.clientId,enableTagAuditBeacon:options.enableTagAuditBeacon,scUseCacheBuster:options.scUseCacheBuster,beaconSamplingSeedValue:options.beaconSamplingSeedValue||-1};_private.ruleList=[];_private.allDeploymentIds=[];_private.runDeploymentIds=[];
_private.runRuleIds=[];_private.exceptionList=[];_private.ensightenVariables={};_private.test=function(rule){if(rule.executionData.hasRun||rule.executionData.runTime&&rule.executionData.runTime.length>0)return;for(var i=0;i<rule.dependencies.length;i++)if(rule.dependencies[i]()===false)return;rule.execute()};function DependencyNotAvailableException(did){this.name="DependencyNotAvailableException";this.message="Dependency with id "+did+"is missing"}DependencyNotAvailableException.prototype=new Error;
if(!DependencyNotAvailableException.prototype)DependencyNotAvailableException.prototype={};DependencyNotAvailableException.prototype.constructor=DependencyNotAvailableException;_private.DependencyNotAvailableException=DependencyNotAvailableException;function BeaconException(err){this.name="BeaconException";this.message="There was an error durring beacon initialization";err=err||{};this.lineNumber=err.lineNumber||err.line;this.fileName=err.fileName}BeaconException.prototype=new Error;if(!BeaconException.prototype)BeaconException.prototype=
{};BeaconException.prototype.constructor=BeaconException;_private.BeaconException=BeaconException;_private.checkForInvalidDependencies=function checkForInvalidDependencies(rid,did,dependencyRids,dependencyDids){for(var i=0;i<dependencyRids.length;i++)if(dependencyRids[i]==="DEPENDENCYNEVERAVAILABLE"){_public.currentRuleId=this.id;_public.currentDeploymentId=this.deploymentId;_public.reportException(new _private.DependencyNotAvailableException(dependencyDids[i]));if(did&&did!==-1)_private.allDeploymentIds.push(did);
return true}return false};_public.currentRuleId=-1;_public.currentDeploymentId=-1;_public.reportedErrors=[];_public.reportedAlerts=[];_public.AF=[];_public._serverTime="";_public._clientIP="";_public.sampleBeacon=function(){var sample=false;try{var sec=_private.currSec||0;var lastDigit=sec%20;var seedValue=_private.options.beaconSamplingSeedValue;if(seedValue===-1)sample=true;else if(lastDigit!==0&&seedValue%lastDigit===0)sample=true}catch(err){}return sample};_public.getServerComponent=function(addData){_public.callOnGetServerComponent();
_public.insertScript(window.location.protocol+"//"+_private.options.scLoc,false,addData||true,_private.options.scUseCacheBuster)};_public.setVariable=function(name,value){_private.ensightenVariables[name]=value};_public.getVariable=function(name){if(name in _private.ensightenVariables)return _private.ensightenVariables[name];else return null};_public.testAll=function(){for(var i=0;i<_private.ruleList.length;i++)_private.test(_private.ruleList[i])};_public.executionState={DOMParsed:false,DOMLoaded:false,
dataDefinitionComplete:false,conditionalRules:false,readyForServerComponent:false};_public.reportException=function(e){e.timestamp=(new Date).getTime();_private.exceptionList.push(e);var src=window.location.protocol+"//"+_private.options.erLoc+"?msg="+encodeURIComponent(e.message||"")+"&lnn="+encodeURIComponent(e.lineNumber||e.line||-1)+"&fn="+encodeURIComponent(e.fileName||"")+"&cid="+encodeURIComponent(_private.options.clientId||-1)+"&client="+encodeURIComponent(_private.options.client||"")+"&publishPath="+
encodeURIComponent(_private.options.publishPath||"")+"&rid="+encodeURIComponent(_public.currentRuleId||-1)+"&did="+encodeURIComponent(_public.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(e.name||"");var img=_public.imageRequest(src);img.timestamp=(new Date).getTime();this.reportedErrors.push(img)};_public.Rule=function(params){this.execute=function(){this.executionData.runTime.push(new Date);_public.currentRuleId=this.id;_public.currentDeploymentId=this.deploymentId;try{this.code()}catch(err){window[ensightenOptions.ns].reportException(err)}finally{this.executionData.hasRun=
true;if(this.deploymentId!==-1){_private.runDeploymentIds.push(this.deploymentId);_private.runRuleIds.push(this.id)}_public.testAll()}};this.id=params.id;this.deploymentId=params.deploymentId;this.dependencies=params.dependencies||[];this.code=params.code;this.executionData={hasRun:false,runTime:[]}};_public.registerRule=function(rule){if(_public.getRule(rule.id)&&rule.id!==-1)return false;else{_private.ruleList.push(rule);if(rule.deploymentId!==-1)_private.allDeploymentIds.push(rule.deploymentId);
_public.testAll();return true}};_public.getRule=function(id){for(var i=0;i<_private.ruleList.length;i++)if(_private.ruleList[i].id===id)return _private.ruleList[i];return false};_public.getRuleList=function(){return _private.ruleList};_public.clearRuleList=function(){_private.ruleList=[]};_public.getAllDeploymentIds=function(){return _private.allDeploymentIds};_public.getRunRuleIds=function(){return _private.runRuleIds};_public.getRunDeploymentIds=function(){return _private.runDeploymentIds};_public.hasRuleRun=
function(id){var rule=_public.getRule(id);if(rule)return rule.executionData.hasRun;return false};_private.toTwoChar=function(a){return(a.toString().length===2?"":"0")+a};_public.Alert=function(params){var d=new Date;var date=d.getFullYear()+"-"+_private.toTwoChar(d.getMonth())+"-"+_private.toTwoChar(d.getDate())+" "+_private.toTwoChar(d.getHours())+":"+_private.toTwoChar(d.getMinutes())+":"+_private.toTwoChar(d.getSeconds());this.severity=params.severity||1;this.subject=params.subject||"";this.type=
params.type||1;this.ruleId=params.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(date);this.subject=encodeURIComponent(this.subject);this.type=encodeURIComponent(this.type)};_public.generateAlert=function(a){var src=window.location.protocol+"//"+_private.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+_private.options.clientId+"&client="+_private.options.client+"&publishPath="+_private.options.publishPath+"&rid="+_public.currentRuleId+
"&did="+_public.currentDeploymentId;var img=_public.imageRequest(src);img.timestamp=(new Date).getTime();this.reportedAlerts.push(img)};_public.imageRequest=function(src){var transmit=new Image(0,0);transmit.src=src;return transmit};_public.insertScript=function(src,dedupe,data,useCacheBuster){var scripts=document.getElementsByTagName("script"),i,s=scripts[0];dedupe=dedupe!==undefined?dedupe:true;useCacheBuster=useCacheBuster!==undefined?useCacheBuster:true;if(dedupe)for(i=0;i<scripts.length;i++)if(scripts[i].src===
src&&scripts[i].readyState&&/loaded|complete/.test(scripts[i].readyState))return;if(data){data=data==true&&typeof _public.scDataObj=="object"?_public.scDataObj:data;_private.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));var u=window.location.href;if(typeof data==="object"&&data["PageID"]){u=data["PageID"];delete data["PageID"]}if(typeof data==="object")for(i in data){var c=~u.indexOf("#")?u.slice(u.indexOf("#"),u.length):"",u=u.slice(0,c.length?u.length-c.length:u.length),u=u+(~u.indexOf("?")?
"&":"?");for(k in data)u+=k+"="+data[k]+"&";u=u.slice(0,-1)+c;break}src+="?";if(useCacheBuster)src+="r="+_private.rand+"&";src+="ClientID="+encodeURIComponent(_private.options.clientId)+"&PageID="+encodeURIComponent(u)}(function(e,b,d){var a=b.head||b.getElementsByTagName("head");setTimeout(function(){if("item"in a){if(!a[0]){setTimeout(arguments.callee,25);return}a=a[0]}var c=b.createElement("script");c.src=d;c.onload=c.onerror=function(){if(this.addEventListener)this.readyState="loaded"};a.insertBefore(c,
a.firstChild)},0)})(window,document,src)};_public.loadScriptCallback=function(src,callback,dedupe){var scripts=document.getElementsByTagName("script"),i,s=scripts[0];dedupe=dedupe||true;if(dedupe)for(i=0;i<scripts.length;i++)if(scripts[i].src===src&&scripts[i].readyState&&/loaded|complete/.test(scripts[i].readyState))try{callback()}catch(e){window[ensightenOptions.ns].reportException(e)}finally{return}var newScript=document.createElement("script");newScript.type="text/javascript";newScript.async=
true;newScript.src=src;newScript.onerror=function(){if(this.addEventListener)this.readyState="loaded"};newScript.onload=newScript.onreadystatechange=function(){if(!this.readyState||this.readyState==="complete"||this.readyState==="loaded"){this.onload=this.onreadystatechange=null;if(this.addEventListener)this.readyState="loaded";try{callback.call(this)}catch(e$0){window[ensightenOptions.ns].reportException(e$0)}}};s.parentNode.insertBefore(newScript,s)};_public.unobtrusiveAddEvent=function(element,
event,fn){try{var old=element[event]?element[event]:function(){};element[event]=function(){fn.apply(this,arguments);return old.apply(this,arguments)}}catch(err){window[ensightenOptions.ns].reportException(err)}};_public.anonymous=function(f,id){return function(){try{if(id)_public.currentRuleId=id;else _public.currentRuleId="anonymous";f()}catch(err){window[ensightenOptions.ns].reportException(err)}}};_public.setCurrentRuleId=function(rid){_public.currentRuleId=rid};_public.setCurrentDeploymentId=
function(did){_public.currentDeploymentId=did};_public.bindImmediate=function(f,rid,did){var newRule;if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:[],code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)};_public.bindDOMParsed=function(f,rid,did){var newRule;if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],
code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)};_public.bindDOMLoaded=function(f,rid,did){var newRule;if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)};_public.bindPageSpecificCompletion=function(f,rid,did){var newRule;if(typeof f==="function")newRule=
new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)};_public.bindOnGetServerComponent=function(f,rid,did){var newRule;if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],code:f});else if(typeof f===
"object")newRule=f;else return false;_public.registerRule(newRule)};_public.bindDataDefinitionComplete=function(f,rid,did){var newRule;if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)};_public.checkHasRun=function(ids){if(ids.length===0)return true;var rule;for(var i=0;i<
ids.length;++i){rule=_public.getRule(parseInt(ids[i],10));if(!rule)return false;if(!rule.executionData.hasRun)return false}return true};_public.bindDependencyImmediate=function(f,rid,dependencyRids,did,dependencyDids){var newRule,dependencyFArray=[];var invalidDependencies=_private.checkForInvalidDependencies(rid,did,dependencyRids,dependencyDids);if(!invalidDependencies){dependencyFArray.push(function(){return window[ensightenOptions.ns].checkHasRun(dependencyRids)});if(typeof f==="function")newRule=
new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:dependencyFArray,code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)}};_public.bindDependencyDOMLoaded=function(f,rid,dependencyRids,did,dependencyDids){var newRule,dependencyFArray=[];var invalidDependencies=_private.checkForInvalidDependencies(rid,did,dependencyRids,dependencyDids);if(!invalidDependencies){dependencyFArray.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});
dependencyFArray.push(function(){return window[ensightenOptions.ns].checkHasRun(dependencyRids)});if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:dependencyFArray,code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)}};_public.bindDependencyDOMParsed=function(f,rid,dependencyRids,did,dependencyDids){var newRule,dependencyFArray=[];var invalidDependencies=_private.checkForInvalidDependencies(rid,did,dependencyRids,
dependencyDids);if(!invalidDependencies){dependencyFArray.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});dependencyFArray.push(function(){return window[ensightenOptions.ns].checkHasRun(dependencyRids)});if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:dependencyFArray,code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)}};_public.bindDependencyPageSpecificCompletion=function(f,rid,
dependencyRids,did,dependencyDids){var newRule,dependencyFArray=[];var invalidDependencies=_private.checkForInvalidDependencies(rid,did,dependencyRids,dependencyDids);if(!invalidDependencies){dependencyFArray.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});dependencyFArray.push(function(){return window[ensightenOptions.ns].checkHasRun(dependencyRids)});if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:dependencyFArray,
code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)}};_public.bindDependencyOnGetServerComponent=function(f,rid,dependencyRids,did,dependencyDids){var newRule,dependencyFArray=[];var invalidDependencies=_private.checkForInvalidDependencies(rid,did,dependencyRids,dependencyDids);if(!invalidDependencies){dependencyFArray.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});dependencyFArray.push(function(){return window[ensightenOptions.ns].checkHasRun(dependencyRids)});
if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:dependencyFArray,code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)}};_public.bindDependencyPageSpecificCompletion=function(f,rid,dependencyRids,did,dependencyDids){var newRule,dependencyFArray=[];var invalidDependencies=_private.checkForInvalidDependencies(rid,did,dependencyRids,dependencyDids);if(!invalidDependencies){dependencyFArray.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});
dependencyFArray.push(function(){return window[ensightenOptions.ns].checkHasRun(dependencyRids)});if(typeof f==="function")newRule=new _public.Rule({id:rid||-1,deploymentId:did||-1,dependencies:dependencyFArray,code:f});else if(typeof f==="object")newRule=f;else return false;_public.registerRule(newRule)}};_public.dataDefintionIds=[];_public.dataDefinitions=[];_public.pageSpecificDataDefinitionsSet=false;_public.setPageSpecificDataDefinitionIds=function(idsArray){var length=idsArray.length;for(var i=
0;i<length;i++){var newId=idsArray[i];if(!Array.prototype.indexOf){var alreadyPresent=false;var bootstrapeprDDLength=_public.dataDefinitionIds.length;for(var j=0;j<bootstrapeprDDLength;j++)if(_public.dataDefinitionIds[j]===newId){alreadyPresent=true;break}if(!alreadyPresent)_public.dataDefinitionIds.push(newId)}else if(_public.dataDefinitionIds.indexOf(newId)==-1)_public.dataDefinitionIds.push(newId)}_public.pageSpecificDataDefinitionsSet=true;checkForDataDefinitionCompletion()};_public.DataDefinition=
function(id,registrationFn){this.id=id;this.registrationFn=registrationFn;this.startRegistrationTime=null;this.endRegistrationTime=null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};function checkForDataDefinitionCompletion(){var dataDefinitionsIdsLength=_public.dataDefinitionIds.length;var allDataDefinitionsRegistered=true;for(var i=0;i<dataDefinitionsIdsLength;i++){var dataDefinitionId=_public.dataDefinitionIds[i];
var currentDataDefinition=_public.dataDefinitions[dataDefinitionId];if(!currentDataDefinition||currentDataDefinition.endRegistration==null){allDataDefinitionsRegistered=false;break}}if(allDataDefinitionsRegistered)_public.callOnDataDefintionComplete()}_public.registerDataDefinition=function(dataDefinitionFn,id){var dataDefinition=_public.dataDefinitions[id];if(!dataDefinition){dataDefinition=new _public.DataDefinition(id,dataDefinitionFn);_public.dataDefinitions[id]=dataDefinition}if(!dataDefinition.startRegistrationTime){dataDefinition.startRegistration();
dataDefinition.registrationFn();dataDefinition.endRegistration()}if(_public.pageSpecificDataDefinitionsSet)checkForDataDefinitionCompletion()};_public.callOnDataDefintionComplete=function(){_public.executionState.dataDefinitionComplete=true;_public.testAll()};_public.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=true;window[ensightenOptions.ns].testAll()};_public.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=true;window[ensightenOptions.ns].executionState.DOMLoaded=
true;window[ensightenOptions.ns].testAll()};_public.callOnPageSpecificCompletion=function(){for(var b=document.getElementsByTagName("script"),a=0,c=b.length;a<c;a++)if(b[a].src&&b[a].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&!("loaded"==b[a].readyState||"complete"==b[a].readyState)){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=true;window[ensightenOptions.ns].testAll()},1)};_public.callOnGetServerComponent=
function(){window[ensightenOptions.ns].executionState.readyForServerComponent=true;window[ensightenOptions.ns].testAll()};_public.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};_public.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};_public.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var fArray=function(){var funcs=[];var hasRun=false;var running=false;return{add:function(f){if(hasRun&&
!running){f();return}if(typeof f!="function")return;funcs[funcs.length]=f},exec:function(){running=true;do{var toRun=funcs;funcs=[];hasRun=true;for(var i=0;i<toRun.length;i++)try{toRun[i].call(window)}catch(e){window[ensightenOptions.ns].reportException(e)}}while(funcs.length>0);running=false},haveRun:function(){return hasRun}}};_public.new_fArray=function(){return fArray()};_private.timer=null;(function(){function c(a,b){return function(){a.apply(b,arguments)}}if(!window.console)window.console={};
var a=window.console;if(!a.log)if(window.log4javascript){var b=log4javascript.getDefaultLogger();a.log=c(b.info,b);a.debug=c(b.debug,b);a.info=c(b.info,b);a.warn=c(b.warn,b);a.error=c(b.error,b)}else a.log=function(){};if(!a.debug)a.debug=a.log;if(!a.info)a.info=a.log;if(!a.warn)a.warn=a.log;if(!a.error)a.error=a.log})();if(document.addEventListener){if(navigator.userAgent.indexOf("AppleWebKit/")>-1)_private.timer=window.setInterval(function(){if(/loaded|interactive|complete/.test(document.readyState)){clearInterval(_private.timer);
_public.callOnDOMParsed()}},50);else document.addEventListener("DOMContentLoaded",_public.callOnDOMParsed,false);window.addEventListener("load",_public.callOnDOMLoaded,false)}else{setTimeout(function(){var d=window.document;(function(){try{if(!document.body)throw"continue";d.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1);window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()})}if(document.readyState&&
document.readyState==="complete"){_public.executionState.DOMParsed=true;_public.executionState.DOMLoaded=true}if(_private.options.enableTagAuditBeacon==="true"&&_public.sampleBeacon())window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{var ruleDataList=[],data,idx=0,rule,isExecuted,singleData;for(var i=0;i<_private.ruleList.length;++i){rule=_private.ruleList[i];isExecuted=rule.executionData.hasRun?"1":"0";singleData=rule.deploymentId.toString()+
"|"+rule.id.toString()+"|"+isExecuted;ruleDataList.push(singleData)}data="["+ruleDataList.join(";")+"]";var src=window.location.protocol+"//"+_private.nexus+"/"+encodeURIComponent(options.client)+"/"+encodeURIComponent(options.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(options.clientId)+"&data="+data+"&idx="+idx+"&r="+_private.rand,img=_public.imageRequest(src)}catch(e){_public.currentRuleId=-1;_public.currentDeploymentId=-1;var beaconException=new _private.BeaconException(e);window[ensightenOptions.ns].reportException(beaconException)}},
3E3);window.setInterval(_public.testAll,_private.options.interval);return _public}(ensightenOptions);
if(ensightenOptions.enablePagePerfBeacon==="true"&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon())window[ensightenOptions.ns].bindDOMParsed(function(){(function __ensightenNavTiming(){if(!window[ensightenOptions.ns].mobilePlatform){var perf=window.performance;if(!perf)return;var timing=perf.timing||{},recordEvents="",initialTime=timing["navigationStart"]||0,temp,data,keyMapping={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",
domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};recordEvents="&ns="+encodeURIComponent(timing.navigationStart);for(var key in keyMapping)if(timing[key]!==undefined){temp=timing[key]-initialTime;recordEvents+="&"+keyMapping[key]+"="+(temp>
0?encodeURIComponent(temp):0)}else recordEvents+="&"+keyMapping[key]+"=-1";window[ensightenOptions.ns].timing=recordEvents;var host=ensightenOptions.nexus||"nexus.ensighten.com",path=ensightenOptions.staticJavascriptPath||"",startIdx=path.indexOf("/",0),endIdx=path.indexOf("/code/"),uri=path.substring(startIdx,endIdx)+"/perf.rnc";uri+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+host+uri)}})()});
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(p,u){var k={queue:{},pollQueue:{},pushTrigger:function(b,c){if("[object Array]"===Object.prototype.toString.call(b)){for(var g=0;g<b.length;g++)k.pushTrigger(b[g],c);return!0}if("string"!=typeof b)return!1;this.queue[b]=this.queue[b]||{fn:[]};"function"==typeof c&&this.queue[b].fn.push(c);return!0},callTrigger:function(b,c,g){if("string"!=typeof b)return!1;b=k.queue[b];if("object"==typeof b&&b.fn&&b.fn.length&&(0!=
b.fireOnFirstSet&&c==u||c!=u&&0!=b.fireOnUpdate))for(c=0;c<b.fn.length;c++)try{b.fn[c].call(this)}catch(n){p[ensightenOptions.ns].reportException(n)}},setPollOptions:function(b,c,g){this.queue[b]=this.queue[b]||{fn:[]};this.queue[b].fireOnFirstSet=c;this.queue[b].fireOnUpdate=g},callPoll:function(b,c,g,p,r){if("string"==typeof b&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)k.setPollOptions(c[n],p,r);k.pushWatch(b,c,g)}},pushWatch:function(b,c,g){this.pollQueue[b]||(this.pollQueue[b]={previousVal:u,
eventArr:[],valueFn:g});this.pollQueue[b].eventArr=this.pollQueue[b].eventArr.concat(c);this.pollQueue[b].valueFn=g},globalWatch:function(){setInterval(function(){for(var b in k.pollQueue){var c=k.pollQueue[b],g=c.valueFn(b);if(c.previousVal!==g&&null!==g&&""!==g){for(var n=0;n<c.eventArr.length;n++)k.callTrigger.call(p,c.eventArr[n],c.previousVal,g);k.pollQueue[b].previousVal=g}}},500)}};k.globalWatch();return{add:function(b,c){return k.pushTrigger(b,c)},get:function(b){return k.queue[b]},trigger:function(b,
c){return k.callTrigger.call(c||p,b)},poll:function(b,c,g,n,r){r=r||p[ensightenOptions.ns].data.resolve;return k.callPoll(b,c,r,g,n)}}}(window),function(p,u,k){u[p]=k()}("qwery",window[ensightenOptions.ns],function(){function p(){this.c={}}function u(a){return H.g(a)||H.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function k(a,d){for(var e=0,f=a.length;e<f;e++)d(a[e])}function b(a){for(var d=[],e=0,f=a.length;e<f;++e)l(a[e])?d=d.concat(a[e]):d[d.length]=a[e];return d}function c(a){for(var d=0,e=a.length,f=[];d<
e;d++)f[d]=a[d];return f}function g(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function n(a,d,e,f,b,h,l,c,g,k,y){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(a=m.length;a--;)if(!u(m[a].slice(1)).test(this.className))return!1;if(g&&v.pseudos[g]&&!v.pseudos[g](this,y))return!1;if(f&&!l)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==
b)return this;return f&&!x(h,S(this,b)||"",l)?!1:this}function r(a){return J.g(a)||J.s(a,a.replace(T,"\\$1"))}function x(a,d,e){switch(a){case "=":return d==e;case "^=":return d.match(w.g("^="+e)||w.s("^="+e,"^"+r(e),1));case "$=":return d.match(w.g("$="+e)||w.s("$="+e,r(e)+"$",1));case "*=":return d.match(w.g(e)||w.s(e,r(e),1));case "~=":return d.match(w.g("~="+e)||w.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(w.g("|="+e)||w.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function q(a,
d){var e=[],f=[],b,h,l=d,c=C.g(a)||C.s(a,a.split(K)),g=a.match(L);if(!c.length)return e;var m=(c=c.slice(0)).pop();c.length&&(b=c[c.length-1].match(M))&&(l=N(d,b[1]));if(!l)return e;var y=m.match(E);var v=l!==d&&9!==l.nodeType&&g&&/^[+~]$/.test(g[g.length-1])?function(a){for(;l=l.nextSibling;)1==l.nodeType&&(y[1]?y[1]==l.tagName.toLowerCase():1)&&(a[a.length]=l);return a}([]):l.getElementsByTagName(y[1]||"*");b=0;for(m=v.length;b<m;b++)if(h=n.apply(v[b],y))e[e.length]=h;if(!c.length)return e;k(e,
function(a){t(a,c,g)&&(f[f.length]=a)});return f}function t(a,d,e,b){function l(a,b,c){for(;c=U[e[b]](c,a);)if(f(c)&&n.apply(c,d[b].match(E)))if(b){if(h=l(c,b-1,c))return h}else return c}var h;return(h=l(a,d.length-1,a))&&(!b||z(h,b))}function f(a,d){return a&&"object"===typeof a&&(d=a.nodeType)&&(1==d||9==d)}function h(a){var d=[],e;var f=0;a:for(;f<a.length;++f){for(e=0;e<d.length;++e)if(d[e]==a[f])continue a;d[d.length]=a[f]}return d}function l(a){return"object"===typeof a&&isFinite(a.length)}
function N(a,d,e){return 9===a.nodeType?a.getElementById(d):a.ownerDocument&&((e=a.ownerDocument.getElementById(d))&&z(e,a)&&e||!z(a,a.ownerDocument)&&F('[id="'+d+'"]',a)[0])}function v(a,d){var e,h;var g=d?"string"==typeof d?v(d)[0]:!d.nodeType&&l(d)?d[0]:d:m;if(!g||!a)return[];if(a===window||f(a))return!d||a!==window&&f(g)&&z(a,g)?[a]:[];if(a&&l(a))return b(a);if(e=a.match(V)){if(e[1])return(h=N(g,e[1]))?[h]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(a,
g)}function y(a,d){return function(e){var f,b;O.test(e)?9!==a.nodeType&&((b=f=a.getAttribute("id"))||a.setAttribute("id",b="__qwerymeupscotty"),d(a.parentNode||a,'[id="'+b+'"]'+e,!0),f||a.removeAttribute("id")):e.length&&d(a,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+~>]|$)\s*/g,A=/[\s>\+~]/,P=/(?![\s\w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,
V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*~]?=)['"]?([ \w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(a){return a&&a!==D&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},"~":function(a){return a&&
a.previousSibling},"+":function(a,d,e,f){return a?(e=g(a))&&(f=g(d))&&e==f&&e:!1}};p.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,e){d=e?new RegExp(d):d;return this.c[a]=d}};var H=new p,J=new p,w=new p,C=new p,z="compareDocumentPosition"in D?function(a,d){return 16==(d.compareDocumentPosition(a)&16)}:"contains"in D?function(a,d){d=9===d.nodeType||d==window?D:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},S=function(){var a=m.createElement("p");
return(a.innerHTML='<a href="#x">x</a>',"#x"!=a.firstChild.getAttribute("href"))?function(a,e){return"class"===e?a.className:"href"===e||"src"===e?a.getAttribute(e,2):a.getAttribute(e)}:function(a,e){return a.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(a,d){var e=[],f,b;try{if(9===d.nodeType||!O.test(a))return c(d.querySelectorAll(a));k(f=a.split(","),y(d,function(a,d){b=a.querySelectorAll(d);1==b.length?e[e.length]=b.item(0):b.length&&(e=e.concat(c(b)))}));
return 1<f.length&&1<e.length?h(e):e}catch(ba){}return G(a,d)},G=function(a,d){var e=[],f,b;a=a.replace(Y,"$1");if(f=a.match(X)){var l=u(f[2]);f=d.getElementsByTagName(f[1]||"*");var c=0;for(b=f.length;c<b;c++)l.test(f[c].className)&&(e[e.length]=f[c]);return e}k(f=a.split(","),y(d,function(a,f,h){l=q(f,a);c=0;for(b=l.length;c<b;c++)if(9===a.nodeType||h||z(l[c],d))e[e.length]=l[c]}));return 1<f.length&&1<e.length?h(e):e};A=function(a){"undefined"!==typeof a.useNativeQSA&&(F=a.useNativeQSA?Z?aa:G:
G)};A({useNativeQSA:!0});v.configure=A;v.uniq=h;v.is=function(a,d,e){if(f(d))return a==d;if(l(d))return!!~b(d).indexOf(a);for(var c=d.split(","),h;d=c.pop();)if(h=C.g(d)||C.s(d,d.split(K)),d=d.match(L),h=h.slice(0),n.apply(a,h.pop().match(E))&&(!h.length||t(a,h,d,e)))return!0;return!1};v.pseudos={};return v}),function(){function p(f,b,c){n||(n=window[ensightenOptions.ns].qwery);var h=n;if((h=h.call(c,b,c))&&0<h.length){if("_root"==b)f=c;else if(f===c)f=void 0;else{b:{for(var l=h.length,g=0;g<l;g++)if(f===
h[g]){h=!0;break b}h=!1}h||(f.parentNode?(r++,f=p(f.parentNode,b,c)):f=void 0)}return f}return!1}function u(f,b,c,g){q[f.id]||(q[f.id]={});q[f.id][b]||(q[f.id][b]={});q[f.id][b][c]||(q[f.id][b][c]=[]);q[f.id][b][c].push(g)}function k(f,b,c,g){if(g||c)if(g)for(var h=0;h<q[f.id][b][c].length;h++){if(q[f.id][b][c][h]===g){q[f.id][b][c].pop(h,1);break}}else delete q[f.id][b][c];else q[f.id][b]={}}function b(b,c,l){if(q[b][l]){var f=c.target||c.srcElement,h,k,m={},n=k=0;r=0;for(h in q[b][l])q[b][l].hasOwnProperty(h)&&
(k=p(f,h,t[b].element))&&g.matchesEvent(l,t[b].element,k,"_root"==h,c)&&(r++,q[b][l][h].match=k,m[r]=q[b][l][h]);c.stopPropagation=function(){c.cancelBubble=!0};for(k=0;k<=r;k++)if(m[k])for(n=0;n<m[k].length;n++){if(!1===m[k][n].call(m[k].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(c,h,l,n){function f(c){return function(f){b(p,f,c)}}c instanceof Array||(c=[c]);l||"function"!=typeof h||(l=h,h="_root");var p=this.id,m;for(m=0;m<c.length;m++)q[p]&&q[p][c[m]]||g.addEvent(this,c[m],
f(c[m])),n?k(this,c[m],h,l):u(this,c[m],h,l);return this}function g(b,c,l,k){if("string"==typeof b&&"function"==typeof c||"string"==typeof c)g(document).on(b,c,l,k||!1);if(!(this instanceof g)){for(var f in t)if(t[f].element===b)return t[f];x++;t[x]=new g(b,x);t[x]._on=t[x].on;t[x].on=function(b,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)b=[b],"string"==typeof c&&b.push(c),b.push(function(b){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);
if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return b.call(this);"undefined"!=typeof c.preventDefault?c.preventDefault():c.returnValue=!1;b.call(this)}}(h)),this._on.apply(this,b);else return this._on.call(this,b,c,f)};return t[x]}this.element=b;this.id=c}var n,r=0,x=0,q={},t={};g.prototype.on=function(b,g,l){return c.call(this,b,g,l)};g.prototype.off=function(b,g,l){return c.call(this,b,g,l,!0)};g.cancel=function(b){b.preventDefault();b.stopPropagation()};g.addEvent=function(b,c,g){b.element.addEventListener(c,
g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(b){setTimeout(function(b,c){return function(){if(b.nodeName&&"a"==b.nodeName.toLowerCase()){if(c&&/^javascript\s*:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(b,b.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(p){var u=p.addEvent;p.addEvent=function(k,b,c){if(k.element.addEventListener)return u(k,b,c);"focus"==b&&(b="focusin");"blur"==b&&(b="focusout");k.element.attachEvent("on"+
b,c)};p.cancel=function(k){k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation();k.returnValue=!1;k.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);
Bootstrapper.dataDefinitionIds = [];Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}var oneOutOf=10;if(getRandomInt(0,oneOutOf)===0)if(window.location.hostname==="www.nature.com"&&window.location.pathname==="/"){_prum=[["id","58bd3858754054efc9152d3f"],["mark","firstbyte",(new Date).getTime()]];var s=document.getElementsByTagName("script")[0];var p=document.createElement("script");
p.async="async";p.src="//rum-static.pingdom.net/prum.min.js";s.parentNode.insertBefore(p,s)}},1906319,465579);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}var oneOutOf=10;if(getRandomInt(0,oneOutOf)===0){var path=/^\/subjects/;if(window.location.hostname==="www.nature.com"&&window.location.pathname.match(path)){_prum=[["id","58bd36ee7540540ec8152d3f"],["mark","firstbyte",(new Date).getTime()]];var s=document.getElementsByTagName("script")[0];var p=
document.createElement("script");p.async="async";p.src="//rum-static.pingdom.net/prum.min.js";s.parentNode.insertBefore(p,s)}}},1906316,465577);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var filterMeta=function(meta){var result=[];for(var i=0;meta[i];++i)if(meta[i].name)result.push(meta[i]);return result};var translateMeta=function(name){var mapping={"WT.cg_n":"product_name","WT.site_id":"site_id","WT.site_id_name":"site_id_name","WT.registrant_id":"user_id"};return mapping[name]||name};var getMeta=function(callback){var meta=filterMeta(document.getElementsByTagName("meta")||
[]),body=document.getElementsByTagName("body")||[];var process=function(){var n=meta.length,data={},name;while(n--){name=translateMeta(meta[n].name);if(!name)continue;if(data[name]){if(typeof data[name]==="string")data[name]=[data[name]];data[name].push(meta[n].content)}else data[name]=meta[n].content||""}if(data.keywords)data.keywords=data.keywords.replace(/,/g,";");callback(data)};var retry=function(){if(!Bootstrapper.hasDOMParsed())setTimeout(function(){getMeta(callback)},10)};if(body.length)process();
else if(meta.length){process();retry()}else retry()};getMeta(function(data){window._pageMetaData=data})},1636325,299683);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.npg=Bootstrapper.npg||{};Bootstrapper.npg.utils=Bootstrapper.npg.utils||{};Bootstrapper.npg.utils.Request=function(global,undefined){var params=function(){var match=null,params={},param=/([^&=]+)=?([^&]*)/g,decode=function(str){return decodeURIComponent(str.replace(/\+/g," "))},query=global.location.search.substring(1);while(match=param.exec(query))params[decode(match[1])]=
decode(match[2]);return params}();var cookies=function(){var pairs=document.cookie.split(/;\s*/),pair=null,n=pairs.length,cookies={};while(n--){pair=pairs[n].split("\x3d");cookies[pair[0]]=pair.slice(1).join("\x3d")}return cookies}();return{get:function(key){return arguments.length===1?params[key]||undefined:params},cookie:function(key){if(arguments.length===0)return cookies;if(arguments.length===1)return cookies[key]||undefined;return this.setCookie.apply(this,[].slice.call(arguments,0))},deleteCookies:function(names,
opts){for(var i=0;i<names.length;++i)this.deleteCookie(names[i],opts)},deleteCookie:function(name,opts){opts=opts||{};opts.days=-1;this.setCookie(name,"",opts)},setCookie:function(name,value,opts){var params=[name+"\x3d"+value],d=null;opts=opts||{};if(opts.days){d=new Date;d.setTime(+d+opts.days*24*60*60*1E3);params.push("expires\x3d"+d.toGMTString())}if(opts.path)params.push("path\x3d"+opts.path);if(opts.domain)params.push("domain\x3d"+opts.domain);document.cookie=params.join(";");return true},deleteCookiesByPattern:function(pattern,
opts){var regex=new RegExp("(?:^|;|\\s)("+pattern+"[^\x3d]*)","g");var matches=[];var match;while((match=regex.exec(document.cookie))!==null)matches.push(match[1]);this.deleteCookies(matches,opts)}}}(window)},2447878,136555);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}var oneOutOf=10;if(getRandomInt(0,oneOutOf)===0){var path=/^\/search/;if(window.location.hostname==="www.nature.com"&&window.location.pathname.match(path)){_prum=[["id","588f2ae771a183cd1c0ddb0f"],["mark","firstbyte",(new Date).getTime()]];var s=document.getElementsByTagName("script")[0];var p=
document.createElement("script");p.async="async";p.src="//rum-static.pingdom.net/prum.min.js";s.parentNode.insertBefore(p,s)}}},1906318,459149);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.npg=Bootstrapper.npg||{};Bootstrapper.npg.utils=Bootstrapper.npg.utils||{};Bootstrapper.npg.utils.Consent=function(){var cookie=unescape(Bootstrapper.npg.utils.Request.cookie("OptanonConsent")||"");var groups=(/groups=([^&]+)/.exec(cookie)||["",""])[1].split(",");return{STRICTLY_NECESSARY:1,PERFORMANCE:2,FUNCTIONAL:3,TARGETING:4,allow:function(group){if(group===
this.STRICTLY_NECESSARY)return true;for(var i=0;groups[i];++i)if(groups[i]===group+":0")return false;return true}}}()},2463361,[2447878],539792,[136555]);Bootstrapper.getServerComponent(Bootstrapper.getExtraParams ? Bootstrapper.getExtraParams() : undefined);}})();